webpackJsonp([1],{NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=i("VU/8")({name:"App"},r,!1,function(t){i("Pe99")},null,null).exports,n=i("/ocq"),o=i("//Fk"),l=i.n(o),c=i("mtWM"),u=i.n(c),h={name:"SongsList",data:function(){return{search:"",selectedArtist:"Sia",input_format:"json",input_limit:10,message:"",promises:[],localArtists:[]}},watch:{input_limit:function(){this.limit="limit="+this.input_limit},input_format:function(){this.format="format="+this.input_format}},created:function(){var t=this;this.endpoint="https://ws.audioscrobbler.com/2.0/",this.user="user=rj",this.api_key="api_key=9477be879cb8ef4d370328ecdb0e4739",this.format="format="+this.input_format,this.limit="limit="+this.input_limit,this.artist="artist=",this.artists=["Adele","Michael Jackson","Shakira","Maroon 5","The Beatles","Sia"],this.meth="method=user.getartisttracks",this.artists.forEach(function(e){t.promises.push(u.a.get(t.endpoint+"?"+t.meth+"&"+t.user+"&artist="+e+"&"+t.api_key+"&"+t.format+"&"+t.limit))}),this.executePromises()},methods:{createArtist:function(){var t=this,e=this.artist+this.search,i=this.endpoint+"?"+this.meth+"&"+this.user+"&"+e+"&"+this.api_key+"&"+this.format+"&"+this.limit;l.a.all([u.a.get(i)]).then(function(e){t.localArtists.push(e[0].data.artisttracks.track),t.addPropertyLike(t.localArtists.length-1),t.artists.push(t.search)}).catch(function(t){return console.log("Error, artist not found: "+t)}),this.selectedArtist=this.search},executePromises:function(){var t=this,e=0;l.a.all(this.promises).then(function(i){i.forEach(function(i,s){e++,t.localArtists.push(i.data.artisttracks.track)});for(var s=0;s<e;s++)t.addPropertyLike(s)})},addPropertyLike:function(t){console.log("Adding 'like' property for the singer songs: "+this.localArtists[t][0].artist["#text"]);for(var e=0;e<this.localArtists[t].length;e++)this.localArtists[t][e].like=0},like:function(t,e,i){this.localArtists[e][i].like=this.localArtists[e][i].like+1,this.$forceUpdate()},dislike:function(t,e,i){this.localArtists[e][i].like>=1&&(this.localArtists[e][i].like=this.localArtists[e][i].like-1),this.$forceUpdate()}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("main",[t._m(0),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"Busca a tu artista"},domProps:{value:t.search},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.createArtist()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedArtist,expression:"selectedArtist"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedArtist=e.target.multiple?i:i[0]}}},t._l(t.artists,function(e,s){return i("option",{key:s},[t._v(t._s(e))])})),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.input_limit,expression:"input_limit"}],attrs:{type:"number",step:"1"},domProps:{value:t.input_limit},on:{input:function(e){e.target.composing||(t.input_limit=e.target.value)}}})]),t._v(" "),i("h1",[t._v(t._s(t.selectedArtist))]),t._v(" "),t._l(t.localArtists,function(e,s){return i("div",{key:s},t._l(e,function(r,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:r.artist["#text"]==t.selectedArtist,expression:"song.artist['#text'] == selectedArtist"}],key:a},[i("div",{staticClass:"container"},[i("p",[t._v("Album: "+t._s(r.album["#text"]))]),t._v(" "),i("div",[i("img",{attrs:{src:r.image[2]["#text"]}})]),t._v(" "),i("p",[i("strong",[t._v(t._s(r.name))])]),t._v(" "),i("h3",[t._v(t._s(r.like))]),t._v(" "),i("div",[i("button",{staticClass:"fa fa-hand-o-up",on:{click:function(e){t.like(r,s,a)}}},[t._v("like")]),t._v(" "),i("button",{staticClass:"fa fa-hand-o-down",on:{click:function(i){t.dislike(e,s,a)}}},[t._v("Dislike")])])])])}))})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h3",[this._v(" Angie - Play")])])}]};var m=i("VU/8")(h,p,!1,function(t){i("W7yN")},"data-v-678d6fa6",null).exports;s.a.use(n.a);var d=new n.a({routes:[{path:"/",name:"HelloWorld",component:m}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:d,components:{App:a},template:"<App/>"})},Pe99:function(t,e){},W7yN:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.59e40f8ab8a5f0881f00.js.map